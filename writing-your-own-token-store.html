<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/style.css?t=90051322">
    <link rel="stylesheet" href="styles.css?t=6eea839d">
    <script src="assets/script.js?t=93f1a66c"></script>
    <script src="scripts.js?t=bafb4b9e"></script>
    <script src="sharetribe-flex-sdk-web.js?t=c604765e"></script>
    <title>Writing your own token store - Sharetribe Flex SDK for JavaScript</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <ul>
          <li class="menu-item -level-0 -parent">
            <ul class="submenu">
              <li class="menu-item -level-1"><a class="link title  link-index" href="index.html">Sharetribe Flex SDK for JavaScript</a>
              </li>
              <li class="menu-item -level-1"><a class="link title  link-features" href="features.html">Features</a>
              </li>
              <li class="menu-item -level-1"><a class="link title  link-try-it-in-browser" href="try-it-in-browser.html">Try it in browser!</a>
              </li>
              <li class="menu-item -level-1"><a class="link title  link-try-it-in-the-playground" href="try-it-in-the-playground.html">Try it in the API Playground!</a>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">Getting started</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-authentication" href="authentication.html">Authentication</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-calling-the-api" href="calling-the-api.html">Calling the Marketplace API</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-calling-the-asset-delivery-api" href="calling-the-asset-delivery-api.html">Calling the Asset Delivery API</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-types" href="types.html">Types</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1 -parent"><span class="title">Advanced</span>
                <ul class="submenu">
                  <li class="menu-item -level-2"><a class="link title  link-configurations" href="configurations.html">Configurations</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-your-own-types" href="your-own-types.html">Your own types</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-serializing-types-to-json" href="serializing-types-to-json.html">Serializing types to JSON</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-object-query-parameters" href="object-query-parameters.html">Object query parameters</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-token-store" href="token-store.html">Token store</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-sharing-session-between-client-and-server" href="sharing-session-between-client-and-server.html">Sharing session between client and server</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title  link-keep-alive" href="keep-alive.html">Keep-Alive</a>
                  </li>
                  <li class="menu-item -level-2"><a class="link title -active link-writing-your-own-token-store" href="writing-your-own-token-store.html">Writing your own token store</a>
                    <ul class="headings heading-list">
                      <li class="heading-item -depth-2"><a class="hlink link-interface" href="#interface">Interface</a>
                      </li>
                      <li class="heading-item -depth-2"><a class="hlink link-examples" href="#examples">Examples</a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class="menu-item -level-1"><a class="link title  link-developing-sdk" href="developing-sdk.html">Developing SDK</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <div class="body page-writing-your-own-token-store">
        <div class="header-nav">
          <div class="right"><a class="iconlink" href="https://github.com/sharetribe/flex-sdk-js" data-title="sharetribe/flex-sdk-js">
              <!-- span.title Open in GitHub--><span class="icon -github"></span></a>
          </div>
        </div>
        <div class="markdown-body"><h1 id="writing-your-own-token-store">Writing your own token store</h1>
<p>The SDK ships with three built-in token store implementations: Browser
cookie store, Express cookie store and memory store. However, in some
cases you may need to write your own cookie store, for example, if you
want to save the cookie in some other location, such as
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/LocalStorage">LocalStorage</a>.</p>
<h2 id="interface">Interface</h2>
<p>The Token store interface has three methods. Any token store
implementation must implement all of them:</p>
<p><strong><code>setToken(Object) : null | Promise(null)</code></strong></p>
<p>Stores the new token. Returns either <code>null</code> or a <code>Promise</code>.</p>
<p><strong><code>getToken() : Object | Promise(Object)</code></strong></p>
<p>Reads the token from the store. Returns either a token or a Promise
holding the token as a value.</p>
<p><strong><code>removeToken : null | Promise(null)</code></strong></p>
<p>Removes the stored token. Returns either <code>null</code> or a Promise.</p>
<h2 id="examples">Examples</h2>
<p>See the built-in token store implementations.</p>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="keep-alive.html"><span class="title">Keep-Alive</span></a></div>
          <div class="right"><a href="developing-sdk.html"><span class="label">Next: </span><span class="title">Developing SDK</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>